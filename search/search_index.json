{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Luma Vision Products Documentation","text":""},{"location":"#vision-systems","title":"Vision Systems","text":"<ul> <li>Luma P1</li> </ul>"},{"location":"#ethernet-switches","title":"Ethernet Switches","text":"<ul> <li>LumaSwitch</li> </ul>"},{"location":"lumaswitch/","title":"LumaSwitch","text":"<p>Five port passive PoE ethernet switch built specifically for the needs of FRC robots.</p>"},{"location":"lumaswitch/#hardware-specs","title":"Hardware Specs","text":"<ul> <li>Same reliable buck-boost power stage of Luma P1<ul> <li>3.3V - 22.5V Input range</li> <li>Reverse polarity protection</li> <li>WAGO 2601 power input</li> </ul> </li> <li>Five port 10/100 unmanaged switch</li> <li>4X ports with optional unregulated PoE output<ul> <li>Each port individually protected with a fuse</li> <li>LED indicator when PoE is active</li> <li>Remove fuse to disable PoE</li> </ul> </li> <li>Versatile mounting<ul> <li>#10 through holes on 0.5\" pitch</li> <li>Zip-tie notches</li> </ul> </li> <li>Lightweight, less than 0.25lb with fuses installed</li> </ul>"},{"location":"lumaswitch/#quick-links","title":"Quick Links","text":"<ul> <li>Store Page</li> <li>STEP file</li> <li>Mounting Diagram</li> </ul>"},{"location":"lumaswitch/mounting/","title":"Mounting","text":"<p>LumaSwitch has four 5mm (0.2\") through-holes in each corner of the device, on a 0.5\" pitch. These holes can accomodate #10 or M4 bolts. The enclosure is electrically isolated, so there is no need to make sure your mount is isolated from the robot frame. Furthermore, LumaSwitch can also be mounted with zip ties using the notches on top of the enclosure.</p> <p></p>"},{"location":"lumaswitch/wiring/","title":"Wiring","text":""},{"location":"lumaswitch/wiring/#powering-lumaswitch","title":"Powering LumaSwitch","text":"<p>LumaSwitch can be powered via unregulated battery voltage directly from the PDH/PDP/MPM via the Wago lever terminal. The lever terminal can accept 26 to 16 AWG wire. If you are using LumaSwitch to power other devices with PoE, 16 or 18 AWG wire is recommended, with a 15A-20A fuse protecting the switch, depending on what is legally allowed in the port you're using. If not using PoE, you can safely use any compatible wire with a 5A fuse.</p> <p>When LumaSwitch is powered on, all ethernet status lights will blink once to indicate it is powered and working properly.</p>"},{"location":"lumaswitch/wiring/#connecting-non-poe-devices","title":"Connecting Non-PoE Devices","text":"<p>LumaSwitch has one port that does not support PoE on the same side as the power input. This port is recommended to be used to connect LumaSwitch to the robot radio. </p> <p>The other 4 ports can also be safely used with non-PoE devices, simply make sure there is no fuse installed for the ports you are using, and PoE output will be disabled for that port.</p>"},{"location":"lumaswitch/wiring/#powering-passive-poe-devices","title":"Powering Passive PoE Devices","text":"<p>LumaSwitch can provide passive, unregulated PoE to up to 4 supported devices simultaneously, such as Luma P1. Enable PoE output on the desired ports by installing a 5A fuse for each port you would like to power a device with. The red \"PoE\" indicator LED will illuminate if PoE is being delivered and the installed fuse is good.</p> <p>Note</p> <p>Ensure that the fuses you use for PoE on LumaSwitch are each rated for a lower amperage than the fuse being used to protect the switch itself. This ensures that a short in one of the downstream devices will only blow its PoE fuse, not the fuse for the whole switch.</p>"},{"location":"p1/","title":"Luma P1","text":""},{"location":"p1/#hardware-specs","title":"Hardware Specs","text":"<ul> <li>Reliable Buck-Boost power stage<ul> <li>3.3V - 22.5V Input range</li> <li>Reverse voltage protection</li> <li>Passive PoE + Weidmuller power input</li> </ul> </li> <li>Powered by Raspberry Pi CM5</li> <li>Actively cooled to eliminate thermal throttling and maintain max performance</li> <li>Integrated, pre-focused OV9281 global shutter camera</li> <li>Up to 1280x800 at 120fps capture</li> <li>80 degree horizontal FOV</li> <li>56 degree vertical FOV</li> <li>USB 3 port for additional external cameras/USB devices</li> <li>3D printed PA-CF enclosure</li> <li>0.22 lbs (99g)</li> </ul>"},{"location":"p1/#quick-links","title":"Quick Links","text":"<ul> <li>Store Page</li> <li>PhotonVision Docs</li> <li>STEP file</li> <li>Mounting Diagram</li> <li>Enclosure 3D printing files</li> <li>Airflow spacer 3D printing files</li> </ul>"},{"location":"p1/flashing/","title":"Flashing OS","text":"<p>Warning</p> <p>Before flashing your device, make sure you back up your pipeline settings and camera calibration as the flashing process will wipe these settings. </p> <p>If you are using PhotonVision, you can usually just use the Offline Update feature instead of flashing the OS, which will preserve your settings.</p>"},{"location":"p1/flashing/#prerequisites","title":"Prerequisites","text":"<ol> <li>Download and install RPIBoot tool<ul> <li>Windows: Download</li> <li>Mac/Linux: Build from source</li> </ul> </li> <li>Download and install balenaEtcher</li> <li>Download the latest PhotonVision image for Luma P1 or other raspberry pi compatible vision solutions</li> </ol>"},{"location":"p1/flashing/#put-p1-in-flash-mode","title":"Put P1 in Flash Mode","text":"<ol> <li>Ensure P1 is not powered</li> <li>Connect a USB C cable between your laptop and the device's USB C flash port</li> <li>Run the RPIBoot tool to mount P1 as a mass storage device<ul> <li>Windows: Search \"cm5\" in the windows start menu, then run the <code>rpiboot-CM4-CM5 - Mass Storage Gadget</code> app</li> <li>Mac/Linux: Run <code>sudo ./rpiboot</code> from the directory you built the usbboot tool in</li> </ul> </li> </ol>"},{"location":"p1/flashing/#flash-the-os","title":"Flash the OS","text":"<ol> <li>Open balenaEtcher</li> <li>Click \"Flash From File\" and select your OS image</li> <li>Click \"Select Target\" and select the device labeled <code>mmcblk0</code></li> <li>Click \"Flash\" and wait for the flashing process to finish</li> <li>Unplug USB C cable from device</li> </ol>"},{"location":"p1/getting_started/","title":"Getting Started With P1","text":"<ol> <li>P1 ships pre-flashed with the latest PhotonVision image available at the time it was assembled. It is not required to flash PhotonVision out of the box unless a new version has been released. In that case, follow the flashing instructions to update the PhotonVision installation.</li> <li>Wire P1 to your robot or test bench following the wiring instructions. If you are setting up multiple devices, it is recommended to only set up/power one at a time to make it easier to find each device on the robot network.</li> <li> <p>Power up the robot and get comms. Navigate to <code>photonvision.local:5800</code> in your browser, this will bring you to the PhotonVision web configuration.</p> <p>Warning</p> <p>If you have multiple PhotonVision devices on the robot, this address may point to any of them. It is recommended to set up each device one at a time, giving each a static IP and unique hostname as outlined in the PhotonVision networking documentation</p> </li> <li> <p>Follow the PhotonVision docs to finish setting up and using PhotonVision.</p> </li> </ol>"},{"location":"p1/mounting/","title":"Mounting","text":"<p>P1 has four 5mm (0.2\") through-holes in each corner of the device. These holes can accomodate #10 or M4 bolts. The enclosure is electrically isolated, so there is no need to make sure your mount is isolated from the robot frame.</p> <p>Warning</p> <p>When developing your mounting solution, ensure that you do not block the fan grate on the back of the device, or the fan will be unable to properly cool the device. You can either leave a hole in your mount to allow the fan to breath, or use spacers to create some breathing room between the fan and the mount.</p> <p>A printable spacer with an airflow channel to allow mounting against a surface where adding an air hole is not possible is available here. This spacer will also be available to purchase printed with the same high strength, heat resistant filament as the P1 enclosure.</p> <p></p>"},{"location":"p1/parts/","title":"Spare Parts","text":"<p>The following parts are available as either spares, or to repair damaged P1 cameras.</p> <ul> <li>P1 Mainboard</li> <li>P1 Enclosure</li> <li>OV9281 CSI Camera<ul> <li>Waveshare (Ships from China)</li> <li>Amazon</li> <li>Robot Shop</li> </ul> </li> <li>Raspberry Pi CM5 (2+ GB RAM w/ EMMC)<ul> <li>DigiKey</li> <li>Mouser</li> </ul> </li> <li>CM5 Cooling Fan (will need threads drilled out with a 3/16\" drill bit)<ul> <li>Waveshare (Ships from China)</li> <li>Amazon</li> </ul> </li> <li>50mm Flex Cable (15 Pin, 1mm pitch, Reverse)<ul> <li>DigiKey</li> <li>Amazon</li> </ul> </li> </ul>"},{"location":"p1/wiring/","title":"Wiring Options","text":""},{"location":"p1/wiring/#radio-poe-or-lumaswitch-recommended","title":"Radio PoE or LumaSwitch (Recommended)","text":"<p>The simplest and most reliable method of wiring P1 is by utilizing the Vivid Hosting radio or LumaSwitch's PoE output.</p> <p></p>"},{"location":"p1/wiring/#radio","title":"Radio","text":"<p>Simply connect the radio to P1 with an ethernet cable and switch on the PoE dipswitch for the port its plugged into.</p>"},{"location":"p1/wiring/#lumaswitch","title":"LumaSwitch","text":"<p>Connect an ethernet cable between P1 and one of the PoE ports on LumaSwitch. Use a 5A fuse to enable PoE on the chosen slot.</p> <p>Warning</p> <p>When powering P1 via PoE, ensure you are using an ethernet cable that uses at least 24 AWG wire for each conductor. DO NOT use \"low profile\" ethernet cable.</p>"},{"location":"p1/wiring/#poe-injector","title":"PoE Injector","text":"<p>If you do not wish to use PoE from the radio or would like to connect P1 to an ethernet switch, you can still power P1 via PoE by using a PoE injector or custom PoE cable. Use a 5A or 10A fuse in the slot powering the PoE injector or cable.</p> <p></p> <p>Warning</p> <p>When powering P1 via PoE, ensure you are using an ethernet cable that uses at least 24 AWG wire for each conductor. DO NOT use \"low profile\" ethernet cable.</p>"},{"location":"p1/wiring/#weidmuller-connector","title":"Weidmuller Connector","text":"<p>If not using PoE, or you would like to have redundant power, P1 can also be powered through the Weidmuller connector next to the ethernet port. Use a 5A or 10A fuse in the slot powering the device.</p> <p></p>"}]}